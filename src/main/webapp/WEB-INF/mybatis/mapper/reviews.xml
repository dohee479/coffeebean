<?xml version="1.0" encoding="euc-kr" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.webapp.dao.ReviewsDao">
	<insert id="insert" parameterType="review">
		<selectKey keyProperty="review_id" resultType="int" order="BEFORE">
			select seq_review_id.nextval from dual
		</selectKey>
		insert into reviews
		values(seq_review_id.nextval, #{review_title}, #{review_grade}, #{review_content}, #{review_attachoname}, #{review_attachsname}, #{review_attachtype}, #{review_date}, #{user_id}, #{product_id})
	</insert>
	
	<update id="update" parameterType="review">
		update boards set
			review_title=#{review_title},
			review_content=#{review_content}
		where user_id = #{user_id} and product_id = #{product_id}
	</update>
	
	<delete id="deleteReview">
		delete from reviews
		where user_id = #{user_id} and product_id = #{product_id}
	</delete>
	
</mapper>